\newtoggle{marketBeasts}
\settoggle{marketBeasts}{false}

\newcommand\mkPrice[2][sp]{%
  \randomize%
  \setcounter{gold}{#2}%
  \ifnum\value{gold}<7%
    \ifnum\value{temperature}=0%
      \addtocounter{gold}{3}
    \fi%
  \else%
    \addtocounter{gold}{\value{rn3t3}}%
    \ifnum\value{gold}<14%
      \addtocounter{gold}{\value{r3b}}%
      \addtocounter{gold}{\value{rn1t2}}%
    \else%
      \addtocounter{gold}{\value{r6}}%
      \ifnum\value{gold}<34%
        \addtocounter{gold}{\value{r4t6}}%
      \else%
        \addtocounter{gold}{\value{r12}}%
      \fi%
    \fi%
  \fi%
  \ifnum0<\value{gold}%
    \arabic{gold}~\glspl{#1}%
  \else%
    \textit{free}!
  \fi%
}

\newcommand\marketItem[4][sp]{
  \randomize%
  #2 &% Name
  #3 &% Weight
  \mkPrice[#1]{#4} % Price
  \\
}

\newcommand\rareMarketItem[4][7]{%
  \randomize%
  \ifnumcomp{\value{r12}}{>}{#1}{#2 & #3 & \mkPrice{#4} \\}{}%
}

\newcommand\showArmourPrice[2]{%
  #1\expandafter\MakeUppercase\armourName & \arabic{armourDR} & \arabic{covering} & \arabic{armourWeight} & \mkPrice{#2} \\%
}

\newcommand\rareArmour[3][9]{%
  \ifnumcomp{\value{r12}}{>}{#1}{ \showArmour{#2} & \mkPrice{#3} \\ }{}%
  \randomize%
}

%%%%% Seller Names
% 
% By default, each guild hall curator receives a random name, composed
% with the standard '\composeHumanName' command.  However, individual
% modules might change these names to showcase local NPCs.

\newcommand\marketWeaver{\composeHumanName}
\newcommand\marketDoula{\composeHumanName}
\newcommand\marketBeastSeller{\composeHumanName}
\newcommand\marketBoatman{\composeHumanName}
\newcommand\marketBard{\composeHumanName}
\newcommand\marketFence{\composeHumanName}
\newcommand\marketInnOne{\composeHumanName's Inn}
\newcommand\marketInnTwo{\composeHumanName's Inn}
\newcommand\marketTavernOne{\composeHumanName's Tavern}
\newcommand\marketTavernTwo{\composeHumanName's Tavern}
\newcommand\marketMixer{\composeHumanName}
\newcommand\marketWeaponsSeller{\composeHumanName}
\newcommand\marketArmourSeller{\composeHumanName}
\newcommand\marketTanner{\composeHumanName}

